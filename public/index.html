<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />

    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      * {
        font-family: "Inter", sans-serif;
      }
    </style>
    <title>Gym Website</title>
    <script type="text/javascript">
      !(function (h, i, e) {
        var t = 3000;
        var n = h.createElement("style");
        n.id = e;
        n.innerHTML = "body{opacity:0}";
        h.head.appendChild(n);
        i.rmfk = function () {
          var t = h.getElementById(e);
          t && t.parentNode.removeChild(t);
        };
        setTimeout(i.rmfk, t);
      })(document, window, "optimeleon-overlay");
    </script>
    <script type="text/javascript">
      window.setOptiCookieConsent = (consent) => {
        localStorage.setItem("opti_consent", consent);
      };
    </script>
    <script type="text/javascript" async>
      !(function (
        window,
        document,
        tagName,
        scriptURL,
        optimeleonFunction,
        scriptElement,
        firstScript
      ) {
        if (window.optimeleon) return;
        console.log("Optimeleon script loaded");
        optimeleonFunction = window.optimeleon = function () {
          console.log("Optimeleon function called with arguments:", arguments);
          if (optimeleonFunction.callMethod) {
            optimeleonFunction.callMethod.apply(optimeleonFunction, arguments);
          } else {
            optimeleonFunction.queue.push(arguments);
          }
        };

        optimeleonFunction.push = optimeleonFunction;
        optimeleonFunction.loaded = false;
        optimeleonFunction.version = "1.0";
        optimeleonFunction.queue = [];
        optimeleonFunction.autocapture = true;

        scriptElement = document.createElement(tagName);
        scriptElement.async = true;
        scriptElement.src = scriptURL;

        firstScript = document.getElementsByTagName(tagName)[0];
        firstScript.parentNode.insertBefore(scriptElement, firstScript);
      })(
        window,
        document,
        "script",
        "https://cdn-stag.optimeleon.com/gym-xviya/ver-xviya/v1.main.js"
      );
      //Initialize posthog
      optimeleon("init", true);
    </script>
    <!-- <script>
      !(function () {
          const consent = localStorage.getItem("opti_consent") || "no";
          const oldOptimeleon = window.optimeleon || function () {};
          const oldQueue = oldOptimeleon.queue || [];
          window.optimeleon.init = function(autocapture) {
            posthog.init("${projectApiToken}", {
              api_host: "https://eu.i.posthog.com",
              person_profiles: "identified_only",
              persistence: consent === "yes" ? "localStorage+cookie" : "memory",
              opt_out_capturing_by_default: !autocapture,
              loaded: function (posthog) {
                window.optimeleon.loaded = true;
                console.log("Posthog loaded successfully");
                if (
                  window.optimeleon.queue &&
                  window.optimeleon.queue.length > 0
                ) {
                  window.optimeleon.queue.forEach((args) => {
                    window.optimeleon.callMethod.apply(null, args);
                  });
                  window.optimeleon.queue = [];
                }
                if(!autocapture) {
                  posthog.capture('$pageview', {
                    $current_url: window.location.href,
                  });
                  // For pageleave
                  window.addEventListener('beforeunload', function () {
                    posthog.capture('$pageleave', {
                      $current_url: window.location.href,
                    });
                  });
              }
              },
            });

            // Register version
            posthog.register({
              version: "v1",
            });
          };

          window.optimeleon.callMethod = function (method, ...args) {
            if (method === "init") {
              optimeleon.init(...args);
              return;
            }
            if (!window.optimeleon.loaded) {
              window.optimeleon.queue.push([method, ...args]);
              return;
            }
            
            if (method === "track") {
              const [event, properties] = args;
              posthog.capture(event, {
                ...properties,
                version: "v1",
              });
            } else if (method === "autocapture") {
              posthog.opt_in_capturing();
            } else if (method === "disableAutocapture") {
              posthog.opt_out_capturing();
            }
          };
          if (
            window.optimeleon.queue &&
            window.optimeleon.queue.length > 0
          ) {
            window.optimeleon.queue.forEach((args) => {
              window.optimeleon.callMethod.apply(null, args);
            });
            window.optimeleon.queue = [];
          }
        })(); 
        optimeleon.init(!0);
    </script> -->
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>
</html>
